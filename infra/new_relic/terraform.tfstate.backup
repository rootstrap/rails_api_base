{
  "version": 4,
  "terraform_version": "1.12.1",
  "serial": 69,
  "lineage": "22460922-0aeb-b779-b4e7-dd63dffbffaa",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "newrelic_entity",
      "name": "app",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "application_id": 515583865,
            "domain": "APM",
            "entity_tags": "[{\"key\":\"account\",\"values\":[\"Account 6572468\"]},{\"key\":\"accountId\",\"values\":[\"6572468\"]},{\"key\":\"instrumentation.name\",\"values\":[\"apm\"]},{\"key\":\"instrumentation.provider\",\"values\":[\"newRelic\"]},{\"key\":\"language\",\"values\":[\"ruby\"]},{\"key\":\"nr.logAccountId\",\"values\":[\"6572468\"]},{\"key\":\"nr.logEventType\",\"values\":[\"Log\"]},{\"key\":\"trustedAccountId\",\"values\":[\"6572468\"]}]",
            "guid": "NjU3MjQ2OHxBUE18QVBQTElDQVRJT058NTE1NTgzODY1",
            "id": "NjU3MjQ2OHxBUE18QVBQTElDQVRJT058NTE1NTgzODY1",
            "ignore_case": false,
            "ignore_not_found": false,
            "name": "rails_api_base - development",
            "serving_apm_application_id": null,
            "tag": null,
            "type": "APPLICATION"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_alert_policy",
      "name": "golden_metrics_policy",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "channel_ids": null,
            "id": "6312903",
            "incident_preference": "PER_POLICY",
            "name": "Golden Signals - rails_api_base - development"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_alert_policy",
      "name": "percentiles_policy",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "channel_ids": null,
            "id": "6312902",
            "incident_preference": "PER_POLICY",
            "name": "Percentiles - rails_api_base - development"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_notification_channel",
      "name": "email_channel",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "active": true,
            "destination_id": "c0d4893f-ebf1-4887-aadb-29da68ee5fd1",
            "id": "7a447725-2859-440e-89db-4917e732bcf5",
            "name": "Email channel - rails_api_base - development",
            "product": "IINT",
            "property": [
              {
                "display_value": "",
                "key": "source",
                "label": "terraform-source-internal",
                "value": "terraform"
              },
              {
                "display_value": "",
                "key": "subject",
                "label": "",
                "value": "New Alert"
              }
            ],
            "status": "DEFAULT",
            "timeouts": null,
            "type": "EMAIL"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxNjAwMDAwMDAwMCwidXBkYXRlIjoxNjAwMDAwMDAwMH19",
          "dependencies": [
            "newrelic_notification_destination.email_destination"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_notification_destination",
      "name": "email_destination",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 1,
          "attributes": {
            "account_id": 6572468,
            "active": true,
            "auth_basic": [],
            "auth_custom_header": [],
            "auth_token": [],
            "guid": "NjU3MjQ2OHxBSU9QU3xERVNUSU5BVElPTnxjMGQ0ODkzZi1lYmYxLTQ4ODctYWFkYi0yOWRhNjhlZTVmZDE",
            "id": "c0d4893f-ebf1-4887-aadb-29da68ee5fd1",
            "last_sent": "",
            "name": "Email destination - rails_api_base - development",
            "property": [
              {
                "display_value": "",
                "key": "email",
                "label": "",
                "value": "julian.pasquale@rootstrap.com,ignacio.perez@rootstrap.com"
              },
              {
                "display_value": "",
                "key": "source",
                "label": "terraform-source-internal",
                "value": "terraform"
              }
            ],
            "secure_url": [],
            "status": "DEFAULT",
            "timeouts": null,
            "type": "EMAIL"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxNjAwMDAwMDAwMCwidXBkYXRlIjoxNjAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9"
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_nrql_alert_condition",
      "name": "error_rate",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 60,
            "baseline_direction": null,
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above",
                "prediction": [],
                "threshold": 5,
                "threshold_duration": 60,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "High Error Rate",
            "enabled": true,
            "entity_guid": "NjU3MjQ2OHxBSU9QU3xDT05ESVRJT058NTI0MDA0MjI",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "6312903:52400422",
            "ignore_on_expected_termination": false,
            "name": "High Error Rate - rails_api_base - development",
            "nrql": [
              {
                "data_account_id": 6572468,
                "evaluation_offset": 0,
                "query": "SELECT (filter(count(*), WHERE error IS true) / count(*)) * 100 AS 'error_rate' FROM Transaction WHERE appName = 'rails_api_base - development'",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 6312903,
            "runbook_url": "",
            "signal_seasonality": null,
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "title_template": "",
            "type": "static",
            "violation_time_limit": "NON_MATCHABLE_LIMIT_VALUE",
            "violation_time_limit_seconds": 259200,
            "warning": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "newrelic_alert_policy.golden_metrics_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_nrql_alert_condition",
      "name": "low_throughput",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 60,
            "baseline_direction": null,
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "below",
                "prediction": [],
                "threshold": 5,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "Low Throughput",
            "enabled": true,
            "entity_guid": "NjU3MjQ2OHxBSU9QU3xDT05ESVRJT058NTI0MDA0MjA",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "6312903:52400420",
            "ignore_on_expected_termination": false,
            "name": "Low Throughput - rails_api_base - development",
            "nrql": [
              {
                "data_account_id": 6572468,
                "evaluation_offset": 0,
                "query": "FROM Transaction SELECT rate(count(*), 1 minute) WHERE appName = 'rails_api_base - development'",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 6312903,
            "runbook_url": "",
            "signal_seasonality": null,
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "title_template": "",
            "type": "static",
            "violation_time_limit": "NON_MATCHABLE_LIMIT_VALUE",
            "violation_time_limit_seconds": 259200,
            "warning": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "newrelic_alert_policy.golden_metrics_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_nrql_alert_condition",
      "name": "p90_alert",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 60,
            "baseline_direction": null,
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above",
                "prediction": [],
                "threshold": 1.5,
                "threshold_duration": 60,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "P90 Alert",
            "enabled": true,
            "entity_guid": "NjU3MjQ2OHxBSU9QU3xDT05ESVRJT058NTI0MDA0MjQ",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "6312902:52400424",
            "ignore_on_expected_termination": false,
            "name": "P90 Alert - rails_api_base - development",
            "nrql": [
              {
                "data_account_id": 6572468,
                "evaluation_offset": 0,
                "query": "SELECT percentile(duration, 90) FROM Transaction WHERE appName = 'rails_api_base - development'",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 6312902,
            "runbook_url": "",
            "signal_seasonality": null,
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "title_template": "",
            "type": "static",
            "violation_time_limit": "NON_MATCHABLE_LIMIT_VALUE",
            "violation_time_limit_seconds": 259200,
            "warning": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "newrelic_alert_policy.percentiles_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_nrql_alert_condition",
      "name": "p95_alert",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 60,
            "baseline_direction": null,
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above",
                "prediction": [],
                "threshold": 5,
                "threshold_duration": 60,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "P95 Alert",
            "enabled": true,
            "entity_guid": "NjU3MjQ2OHxBSU9QU3xDT05ESVRJT058NTI0MDA0MjE",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "6312902:52400421",
            "ignore_on_expected_termination": false,
            "name": "P95 Alert - rails_api_base - development",
            "nrql": [
              {
                "data_account_id": 6572468,
                "evaluation_offset": 0,
                "query": "SELECT percentile(duration, 95) FROM Transaction WHERE appName = 'rails_api_base - development'",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 6312902,
            "runbook_url": "",
            "signal_seasonality": null,
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "title_template": "",
            "type": "static",
            "violation_time_limit": "NON_MATCHABLE_LIMIT_VALUE",
            "violation_time_limit_seconds": 259200,
            "warning": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "newrelic_alert_policy.percentiles_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_nrql_alert_condition",
      "name": "response_time_alert",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "aggregation_delay": "120",
            "aggregation_method": "event_flow",
            "aggregation_timer": null,
            "aggregation_window": 60,
            "baseline_direction": null,
            "close_violations_on_expiration": false,
            "critical": [
              {
                "duration": 0,
                "operator": "above",
                "prediction": [],
                "threshold": 5,
                "threshold_duration": 300,
                "threshold_occurrences": "all",
                "time_function": ""
              }
            ],
            "description": "High Transaction Response Time",
            "enabled": true,
            "entity_guid": "NjU3MjQ2OHxBSU9QU3xDT05ESVRJT058NTI0MDA0MjM",
            "evaluation_delay": null,
            "expiration_duration": 0,
            "fill_option": "none",
            "fill_value": 0,
            "id": "6312903:52400423",
            "ignore_on_expected_termination": false,
            "name": "Response Time - rails_api_base - development",
            "nrql": [
              {
                "data_account_id": 6572468,
                "evaluation_offset": 0,
                "query": "SELECT average(duration) FROM Transaction WHERE appName = 'rails_api_base - development'",
                "since_value": ""
              }
            ],
            "open_violation_on_expiration": false,
            "policy_id": 6312903,
            "runbook_url": "",
            "signal_seasonality": null,
            "slide_by": null,
            "term": [],
            "timeouts": null,
            "title_template": "",
            "type": "static",
            "violation_time_limit": "NON_MATCHABLE_LIMIT_VALUE",
            "violation_time_limit_seconds": 259200,
            "warning": []
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMH19",
          "dependencies": [
            "newrelic_alert_policy.golden_metrics_policy"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_one_dashboard",
      "name": "exampledash",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": 6572468,
            "description": null,
            "guid": "NjU3MjQ2OHxWSVp8REFTSEJPQVJEfGRhOjEwMTM4MTQz",
            "id": "NjU3MjQ2OHxWSVp8REFTSEJPQVJEfGRhOjEwMTM4MTQz",
            "name": "New Relic Terraform Example",
            "page": [
              {
                "description": "",
                "guid": "NjU3MjQ2OHxWSVp8REFTSEJPQVJEfDM5MTMwMjc0",
                "name": "New Relic Terraform Example",
                "widget_area": [],
                "widget_bar": [],
                "widget_billboard": [
                  {
                    "colors": [],
                    "column": 1,
                    "critical": "",
                    "data_format": [
                      {
                        "format": "",
                        "name": "rate",
                        "precision": 0,
                        "type": "recent-relative"
                      }
                    ],
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "431450458",
                    "ignore_time_range": false,
                    "initial_sorting": [],
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 6572468,
                        "query": "FROM Transaction SELECT rate(count(*), 1 minute)"
                      }
                    ],
                    "null_values": [],
                    "refresh_rate": "60000",
                    "row": 1,
                    "title": "Requests per minute",
                    "units": [],
                    "warning": "",
                    "width": 6,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ],
                "widget_bullet": [],
                "widget_funnel": [],
                "widget_heatmap": [],
                "widget_histogram": [],
                "widget_json": [],
                "widget_line": [
                  {
                    "colors": [],
                    "column": 7,
                    "data_format": [],
                    "facet_show_other_series": false,
                    "height": 3,
                    "id": "431450649",
                    "ignore_time_range": false,
                    "initial_sorting": [],
                    "is_label_visible": true,
                    "legend_enabled": true,
                    "nrql_query": [
                      {
                        "account_id": 6572468,
                        "query": "FROM Transaction select max(duration) as 'max duration' where httpResponseCode = '504' timeseries since 5 minutes ago"
                      },
                      {
                        "account_id": 6572468,
                        "query": "FROM Transaction SELECT rate(count(*), 1 minute)"
                      }
                    ],
                    "null_values": [],
                    "refresh_rate": "30000",
                    "row": 4,
                    "threshold": [
                      {
                        "from": "1",
                        "name": "Duration Threshold",
                        "severity": "critical",
                        "to": "2"
                      },
                      {
                        "from": "2.1",
                        "name": "Duration Threshold Two",
                        "severity": "warning",
                        "to": "3.3"
                      }
                    ],
                    "title": "Average transaction duration and the request per minute, by application",
                    "units": [
                      {
                        "series_overrides": [
                          {
                            "series_name": "max duration",
                            "unit": "ms"
                          }
                        ],
                        "unit": "ms"
                      }
                    ],
                    "width": 6,
                    "y_axis_left_max": 1,
                    "y_axis_left_min": 0,
                    "y_axis_left_zero": true,
                    "y_axis_right": [
                      {
                        "y_axis_right_max": 300,
                        "y_axis_right_min": 0,
                        "y_axis_right_series": [
                          "A",
                          "B"
                        ],
                        "y_axis_right_zero": true
                      }
                    ]
                  }
                ],
                "widget_log_table": [],
                "widget_markdown": [],
                "widget_pie": [],
                "widget_stacked_bar": [],
                "widget_table": [
                  {
                    "colors": [],
                    "column": 4,
                    "data_format": [
                      {
                        "format": "",
                        "name": "duration",
                        "precision": 0,
                        "type": "decimal"
                      }
                    ],
                    "facet_show_other_series": false,
                    "filter_current_dashboard": false,
                    "height": 3,
                    "id": "431450067",
                    "ignore_time_range": false,
                    "initial_sorting": [
                      {
                        "direction": "desc",
                        "name": "timestamp"
                      }
                    ],
                    "legend_enabled": true,
                    "linked_entity_guids": [],
                    "nrql_query": [
                      {
                        "account_id": 6572468,
                        "query": "FROM Transaction SELECT *"
                      }
                    ],
                    "null_values": [],
                    "refresh_rate": "60000",
                    "row": 1,
                    "threshold": [],
                    "title": "List of Transactions",
                    "units": [],
                    "width": 6,
                    "y_axis_left_max": 0,
                    "y_axis_left_min": 0
                  }
                ]
              }
            ],
            "permalink": "https://one.newrelic.com/redirect/entity/NjU3MjQ2OHxWSVp8REFTSEJPQVJEfGRhOjEwMTM4MTQz",
            "permissions": "private",
            "variable": [
              {
                "default_values": [
                  "value"
                ],
                "is_multi_selection": true,
                "item": [
                  {
                    "title": "item",
                    "value": "ITEM"
                  }
                ],
                "name": "variable",
                "nrql_query": [
                  {
                    "account_ids": [
                      6572468
                    ],
                    "query": "FROM Transaction SELECT average(duration) FACET appName"
                  }
                ],
                "options": [],
                "replacement_strategy": "default",
                "title": "title",
                "type": "nrql"
              }
            ]
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "newrelic_workflow",
      "name": "workflow",
      "provider": "provider[\"registry.terraform.io/newrelic/newrelic\"]",
      "instances": [
        {
          "index_key": "rails_api_base - development",
          "schema_version": 1,
          "attributes": {
            "account_id": 6572468,
            "destination": [
              {
                "channel_id": "7a447725-2859-440e-89db-4917e732bcf5",
                "name": "Email channel - rails_api_base - development",
                "notification_triggers": [
                  "ACKNOWLEDGED",
                  "ACTIVATED",
                  "CLOSED"
                ],
                "type": "EMAIL",
                "update_original_message": true
              }
            ],
            "destinations_enabled": true,
            "enabled": true,
            "enrichments": [],
            "enrichments_enabled": true,
            "guid": "NjU3MjQ2OHxBSU9QU3xXT1JLRkxPV3wxZTk5ODNlZS1lOWFiLTQ5MTQtODE3OC02YzM3MTdmMmZkNjk",
            "id": "1e9983ee-e9ab-4914-8178-6c3717f2fd69",
            "issues_filter": [
              {
                "filter_id": "013df1c2-95f2-49a6-90bc-bcf702fdcde8",
                "name": "Filter - rails_api_base - development",
                "predicate": [
                  {
                    "attribute": "accumulations.policyName",
                    "operator": "EXACTLY_MATCHES",
                    "values": [
                      "Golden Signals - rails_api_base - development",
                      "Percentiles - rails_api_base - development"
                    ]
                  }
                ],
                "type": "FILTER"
              }
            ],
            "last_run": "",
            "muting_rules_handling": "NOTIFY_ALL_ISSUES",
            "name": "Workflow - rails_api_base - development",
            "workflow_id": "1e9983ee-e9ab-4914-8178-6c3717f2fd69"
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "newrelic_alert_policy.golden_metrics_policy",
            "newrelic_alert_policy.percentiles_policy",
            "newrelic_notification_channel.email_channel",
            "newrelic_notification_destination.email_destination"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
